@{
    ViewBag.Title = "People";
}

<div class="row">
    <div class="col-lg-12">
        <form id="searchContainer" action="#" method="post" class="form-horizontal form-validate" role="form">
            <section class="panel">
                <header class="panel-heading">Find People</header>
                <div class="panel-body">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="col-lg-4">
                                    <label class="control-label">Building</label>
                                </div>
                                <div class="col-lg-8">
                                    <select class="form-control" data-bind="options: buildings, optionsValue: 'id', optionsText: 'name', value: searchModel.selectedBuildingId, optionsCaption: 'Select a Building...'"></select>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="col-lg-4">
                                    <label class="control-label">Account</label>
                                </div>
                                <div class="col-lg-8">
                                    <input type="text" class="form-control" placeholder="Enter an Account..." data-bind="value: searchModel.accountName, valueUpdate: 'afterkeydown'"" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <section class="panel">
            <header class="panel-heading">People</header>
            <table class="table table-striped table-advance table-hover">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Account</th>
                        <th>Office</th>
                        <th>Floor</th>
                        <th>Building</th>
                        <th><i class="icon_cogs"></i>Action</th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: currentData">
                    <tr>
                        <td data-bind="text: firstName"></td>
                        <td data-bind="text: lastName"></td>
                        <td data-bind="text: accountName"></td>
                        <td data-bind="text: office"></td>
                        <td data-bind="text: floor"></td>
                        <td data-bind="text: building"></td>
                        <td>
                            <div class="btn-group">
                                <a class="btn btn-primary" href="@Url.Action("Create")"><i class="icon_plus_alt2"></i></a>
                                <a class="btn btn-success" data-bind="attr: { href: '/Person/Edit/' + $data.id() }"><i class="icon_check_alt2"></i></a>
                                <a class="btn btn-danger" data-toggle="modal" href="#deleteConfirm" data-bind="attr: { 'data-deleteurl': 'api/Person/' + $data.id() }"><i class="icon_close_alt2"></i></a>
                            </div>
                        </td>
                    </tr>

                </tbody>
            </table>
        </section>
    </div>
</div>


@section scripts 
{
    <script type="text/javascript" src="~/Scripts/modal/deleteConfirm.js"></script>
    <script type="text/javascript" src="~/Scripts/wayfinding/models.js"></script>
    <script type="text/javascript" src="~/Scripts/wayfinding/personList.js"></script>
}

@section dialogs
{
    @Html.Partial("Modal/_DeleteConfirm")
}

